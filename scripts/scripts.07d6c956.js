!function(){"use strict";angular.module("fsJsApp",[])}(),function(){"use strict";function a(a,b,c){a["new"]={fileName:null,show:!1,addNew:function(){var b=a["new"].fileName;b&&a.files.unshift(new c(b)),a["new"].fileName=null,a["new"].show=!1}},a.edit={ids:[],startEdit:function(){a.edit.ids=a.files.map(function(a){return a.selected?a:null})},isEditing:function(b){return!!a.edit.ids[b]},saveEdit:function(b,c,d){b.name=c,a.edit.ids[d]=null},cancel:function(b){a.edit.ids[b]=null}},a.removeFiles=function(){var b=confirm("Are you sure you want to remove selected files?");b&&(a.files=a.files.map(function(a){return a.selected?null:a}).filter(function(a){return a}))},a.$watch("files",function(c){a.selectedCount=c.filter(function(a){return a.selected}).length,a.selectAll=a.selectedCount===c.length,b.saveData(c)},!0),a.toggleAll=function(b){a.files.forEach(function(a){a.selected=b})},function(){a.files=b.getData()}()}angular.module("fsJsApp").controller("MainCtrl",a),a.$inject=["$scope","dataService","Model"]}(),function(){"use strict";function a(a){var b="fsJs-data",c=[new a("Sample.txt"),new a("Other.doc"),new a("Third.jpg"),new a("Fourth.js")];return{getData:function(){var a=JSON.parse(localStorage.getItem(b));return a&&a.length?a:angular.copy(c)},saveData:function(a){localStorage.setItem(b,JSON.stringify(a))}}}angular.module("fsJsApp").factory("dataService",a),a.$inject=["Model"]}(),function(){"use strict";function a(){return function(a){this.name=a,this.edit=!1,this.selected=!1}}angular.module("fsJsApp").factory("Model",a)}();